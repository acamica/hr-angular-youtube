!function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/directive/youtube-player.component.html",'<div class="hr-yt-wrapper">\n    <div class="hr-yt-video-place-holder"></div>\n    <div class="hr-yt-overlay" ng-transclude=""></div>\n</div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-panel.component.html",'<div ng-transclude=""></div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-pause.component.html",'<div style="display: inherit" ng-transclude=""></div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-play.component.html",'<div style="display: inherit" ng-transclude=""></div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-progress-bar-hover-indicator.html",'<div class="hr-hover-indicator">\n    <span ng-bind="time"></span>\n</div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-progress-bar.component.html",'<div yt-slider="onSliderUp($percentage)"\n     yt-slider-down="onSliderDown()"\n     yt-slider-move="onSliderMove($percentage)"\n     style="width:100%;height:100%;">\n        <div class="hr-yt-played"></div>\n        <div class="hr-yt-loaded"></div>\n        <div class="hr-yt-handle"></div>\n</div>\n<span ng-repeat="marker in markers" class="hr-yt-marker" ng-if="marker.showMarker" marker="marker">\n    </span>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-volume-horizontal.component.html",'<div ng-click="toggleMute()" class="ng-transclude"></div>\n    <div class="hr-yt-volume-hr-bar"\n         yt-slider-move="onSliderMove($percentage)"\n         yt-slider="onSliderUp($percentage)">\n    <div class="hr-yt-setted"></div>\n    <div class="hr-yt-handle"></div>\n</div>\n')}])}();var __assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},__decorate=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=3>a?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(3>a?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0};!function(e){"undefined"==typeof window.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=function(){setTimeout(function(){window.onYouTubeIframeAPIReady()},100)}),e.module("hrAngularYoutube",["hrAngularExtend","hrAngularYoutubeTpls"]).run(["youtube",function(e){if(e.getAutoLoad()){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}])}(angular),function(e){function t(e){return"number"==typeof e||/^\d+$/.test(e)?e+"px":e}e.module("hrAngularYoutube").directive("youtubePlayer",["youtube",function(n){var r=["id","height","width"],i=["autohide","autoplay","ccLoadPolicy","color","controls","disablekb","enablejsapi","end","fs","ivLoadPolicy","list","listType","loop","modestbranding","origin","playerapiid","playlist","playsinline","rel","showinfo","start","theme"];return{restrict:"EA",require:["youtubePlayer","?ngModel"],templateUrl:"/template/directive/youtube-player.component.html",scope:{videoId:"="},transclude:!0,controller:["$q",function(t){var n=t.defer();this.setPlayer=function(e){n.resolve(e)},this.getPlayer=function(){return n.promise},this.destroyPlayer=function(){n.promise.then(function(e){e.destroy()}),n=t.defer()};var r;this.setOverlayElement=function(e){r=e},this.getOverlayElement=function(){return r};var i=null;this.getVideoElement=function(){return null===i&&(i=e.element(this.getOverlayElement()[0].querySelector(".hr-yt-video-place-holder"))),i}}],link:function(a,o,u,l){var s=l[0],c=l[1];o.css("position","relative"),o.css("display","block"),s.setOverlayElement(o);var h=o[0].querySelector(".hr-yt-video-place-holder"),p=e.element(o[0].querySelector(".hr-yt-overlay")),d={playerVars:{}};r.forEach(function(e){u.hasOwnProperty(e)&&(d[e]=u[e])}),i.forEach(function(e){u.hasOwnProperty(e)&&(d.playerVars[e]=u[e])});var y=u.playerFactory||"YoutubePlayer",f=!1,m=function(){f=!0,d.videoId=a.videoId,d.hasOwnProperty("width")||d.hasOwnProperty("height")||(d.height="390",d.width="640"),o.css("height",t(d.height)),o.css("width",t(d.width)),n.loadPlayer(y,h,d).then(function(e){return s.setPlayer(e),e.setOverlayElement(p),"undefined"!=typeof c&&c.$setViewValue(e),e})};a.$watch("videoId",function(e){"undefined"!=typeof e&&(f?s.getPlayer().then(function(t){t.loadVideoById(e)}):m())});var g=16/9,v=function(){if(d.height){var e=Math.round(o[0].clientHeight*g);o.css("width",t(e))}else if(d.width){var n=Math.round(o[0].clientWidth/g);o.css("height",t(n))}};if(u.hasOwnProperty("keepAspectRatio")){var b=u.keepAspectRatio.match(/^(\d+):(\d+)$/);b&&(g=b[1]/b[2]),e.element(window).bind("resize",v);var k=0;a.$watch(function(){var e=0;e=d.height?o[0].clientHeight:o[0].clientWidth,k!==e&&0!==e&&(setTimeout(function(){a.$apply(v)}),k=e)})}a.$on("$destroy",function(){s.destroyPlayer(),f=!1,"undefined"!=typeof c&&c.$setViewValue(void 0),e.element(window).unbind("resize",v)})}}}])}(angular),function(e){e.module("hrAngularYoutube").directive("ytSlider",["$parse","$document",function(t,n){return{restrict:"A",require:"^youtubePlayer",link:function(r,i,a,o){var u=t(a.ytSliderDown),l=t(a.ytSliderMove),s=t(a.ytSlider),c=function(e){var t=i[0].getBoundingClientRect().left,n=Math.min(Math.max(0,e-t),i[0].clientWidth),r=n/i[0].clientWidth;return r};o.getPlayer().then(function(){var t=o.getVideoElement();i.on("mousedown",function(i){if(0===i.button){var a=c(i.pageX);u(r,{$percentage:a});var o=e.element("<div></div>");o.css("position","absolute"),o.css("width",t[0].clientWidth+"px"),o.css("height",t[0].clientHeight+"px"),o.css("pointer-events","false"),o.css("top","0"),t.parent().append(o);var h=function(e){r.$apply(function(){var t=c(e.pageX);l(r,{$percentage:t})})},p=function(e){r.$apply(function(){var t=c(e.pageX);n.off("mousemove",h),n.off("mouseup",p),o.remove(),s(r,{$percentage:t})})};n.on("mousemove",h),n.on("mouseup",p)}})})}}}])}(angular),function(e){e.module("hrAngularYoutube").directive("playerCurrentQuality",function(){return{restrict:"EA",require:"^youtubePlayer",link:function(e,t,n,r){r.getPlayer().then(function(e){var r=function(){var r;if(n.hasOwnProperty("intendedQuality")){var i=!1;n.hasOwnProperty("showRealAuto")&&(i=!0),r=e.getHumanIntendedPlaybackQuality(i)}else r=e.getHumanPlaybackQuality();t.html(r)};e.on("onPlaybackQualityChange",r),e.on("onIntentPlaybackQualityChange",r),r()})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("playerCurrentSpeed",function(){return{restrict:"EA",require:"^youtubePlayer",link:function(e,t,n,r){r.getPlayer().then(function(e){var n=function(){t.html(e.getPlaybackRate())};e.on("onPlaybackRateChange",n),n()})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("playerCurrentTime",function(){return{restrict:"EA",require:"^youtubePlayer",link:function(e,t,n,r){r.getPlayer().then(function(e){e.onProgress(function(){t.html(e.getHumanReadableCurrentTime())},250),e.on("seekToCompleted",function(){t.html(e.getHumanReadableCurrentTime())})})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("playerPanel",["$animate","$timeout",function(e,t){return{restrict:"E",require:"^youtubePlayer",templateUrl:"/template/overlay/player-panel.component.html",transclude:!0,link:function(n,r,i,a){a.getPlayer().then(function(n){var o=a.getOverlayElement(),u={},l=function(t){u[t]=!0,e.addClass(r,"ng-show")},s=function(t){delete u[t],0===Object.keys(u).length&&e.removeClass(r,"ng-show")};if("showOnHover"in i&&i.showOnHover!==!1){var c=parseInt(i.showOnHover),h=null,p=function(){null!==h&&t.cancel(h),h=null};o.on("mouseenter",function(){p(),l("showOnHover"),isNaN(c)||(h=t(function(){s("showOnHover")},c))}),o.on("mouseleave",function(){p(),s("showOnHover")})}var d=function(e){e.data===YT.PlayerState.PLAYING?s("showOnPause"):l("showOnPause")};"showOnPause"in i&&i.showOnPause!==!1&&(n.on("onStateChange",d),d({data:n.getPlayerState()}))})}}}])}(angular),function(e){e.module("hrAngularYoutube").directive("playerPause",function(){return{restrict:"E",require:"^youtubePlayer",templateUrl:"/template/overlay/player-pause.component.html",transclude:!0,link:function(e,t,n,r){r.getPlayer().then(function(e){t.on("click",function(){e.pauseVideo()})})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("playerProgressBar",[function(){return{restrict:"E",require:["^youtubePlayer"],templateUrl:"/template/overlay/player-progress-bar.component.html",scope:{},link:function(t,n,r,i){var a=i[0];a.getPlayer().then(function(r){var i=r.getDuration(),a=e.element(n[0].querySelector(".hr-yt-played")),o=e.element(n[0].querySelector(".hr-yt-loaded")),u=e.element(n[0].querySelector(".hr-yt-handle")),l=function(e){var t,l;r.getPlayerState()===YT.PlayerState.ENDED?(t=100,l=100):"number"==typeof e?(t=100*e/i,l=100*r.getVideoLoadedFraction()):(t=100*r.getCurrentTime()/i,l=100*r.getVideoLoadedFraction());var s=15,c=t*n[0].clientWidth/100-s/2;c=Math.min(Math.max(0,c),n[0].clientWidth-s),o.css("width",l+"%"),a.css("width",t+"%"),u.css("left",c+"px")};r.onProgress(function(){l()}),r.on("seekToBegin",function(e){l(e.newTime)}),r.on("onStateChange",l);var s=null;t.onSliderDown=function(){s=r.getPlayerState(),r.pauseVideo()},t.onSliderMove=function(e){var t=Math.round(i*e);l(t)},t.onSliderUp=function(e){var t=Math.round(i*e);s===YT.PlayerState.PLAYING||s===YT.PlayerState.PAUSED?r.eventSeekTo(t,!0):r.startLoading(t),s===YT.PlayerState.PLAYING&&r.playVideo()},t.markers=r.getMarkers(),r.on("markerListChanged",function(){t.markers=r.getMarkers()})})}}}]).directive("hoverIndicator",["$document","$compile","$templateCache","$http","youtubeReadableTime",function(e,t,n,r,i){return{restrict:"A",require:"^youtubePlayer",link:function(a,o,u,l){var s=function(e){var t=o[0].getBoundingClientRect().left,n=Math.min(Math.max(0,e-t),o[0].clientWidth),r=n/o[0].clientWidth;return r},c=r.get("/template/overlay/player-progress-bar-hover-indicator.html",{cache:n}).then(function(e){return e.data}),h=null,p=a.$new(!0);c.then(function(e){h=t(e)(p),h.addClass("ng-hide"),o.parent().append(h)}),l.getPlayer().then(function(t){var n=t.getDuration(),r=function(e){var t=s(e.pageX);p.$apply(function(e){e.time=i(t*n)}),h.css("left",100*t+"%")};o.on("mouseenter",function(){e.on("mousemove",r),h.removeClass("ng-hide")}),o.on("mouseleave",function(){e.off("mousemove",r),h.addClass("ng-hide")})})}}}]).directive("hrYtMarker",function(){return{restrict:"C",require:"^youtubePlayer",scope:{marker:"="},link:function(e,t,n,r){r.getPlayer().then(function(n){var r=n.getDuration(),i=e.marker;""!==i.barCss&&t.addClass(i.barCss);var a=function(){var e=100*i.startTime/r;t.css("left",e+"%")};a(),i.hasOwnProperty("mutable")&&i.mutable&&e.$watch(function(){return i.startTime},function(e,t){e!==t&&a()})})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("playerRepeatAvailableQuality",["youtubeQualityMap",function(e){return{restrict:"A",template:function(e){return e.removeAttr("player-repeat-available-quality"),e.attr("ng-repeat","$quality in availableQuality"),e[0].outerHTML},replace:!0,priority:1e3,scope:{},require:"^youtubePlayer",link:function(t,n,r,i){i.getPlayer().then(function(n){var i=n.on("onStateChange",function(a){a.data===YT.PlayerState.PLAYING&&(i(),t.availableQuality=e.convertToYoutubeArray(n.getAvailableQualityLevels()),r.hasOwnProperty("reverse")&&t.availableQuality.reverse())});t.availableQuality=["Auto"]})}}}])}(angular),function(e){e.module("hrAngularYoutube").directive("playerRepeatAvailableSpeed",function(){return{restrict:"A",template:function(e){return e.removeAttr("player-repeat-available-speed"),e.attr("ng-repeat","$speed in availableSpeeds"),e[0].outerHTML},replace:!0,priority:1e3,scope:{},require:"^youtubePlayer",link:function(e,t,n,r){r.getPlayer().then(function(t){e.availableSpeeds=t.getAvailablePlaybackRates(),n.hasOwnProperty("reverse")&&e.availableSpeeds.reverse()})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("playerSetQuality",["$parse",function(e){return{restrict:"A",require:"^youtubePlayer",link:function(t,n,r,i){var a=e(r.playerSetQuality);i.getPlayer().then(function(e){n.on("click",function(){t.$apply(function(){e.setHumanPlaybackQuality(a(t))})})})}}}])}(angular),function(e){e.module("hrAngularYoutube").directive("playerSetSpeed",["$parse",function(e){return{restrict:"A",require:"^youtubePlayer",link:function(t,n,r,i){var a=e(r.playerSetSpeed);i.getPlayer().then(function(e){n.on("click",function(){t.$apply(function(){var n=a(t);e.setPlaybackRate(n)})})})}}}])}(angular),function(e){e.module("hrAngularYoutube").directive("playerTotalTime",function(){return{restrict:"EA",require:"^youtubePlayer",link:function(e,t,n,r){r.getPlayer().then(function(e){t.html(e.getHumanReadableDuration())})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("playerVolumeHorizontal",function(){return{restrict:"E",require:"^youtubePlayer",templateUrl:"/template/overlay/player-volume-horizontal.component.html",transclude:!0,scope:{},link:function(t,n,r,i){var a=e.element(n[0].querySelector(".hr-yt-volume-hr-bar")),o=e.element(n[0].querySelector(".hr-yt-setted")),u=e.element(n[0].querySelector(".hr-yt-handle"));i.getPlayer().then(function(e){var n=function(e){var t=e*a[0].clientWidth-u[0].clientWidth/2;t=Math.min(Math.max(0,t),a[0].clientWidth-u[0].clientWidth/2),o.css("width",100*e+"%"),u.css("left",t+"px")};t.toggleMute=function(){e.toggleMute()},t.onSliderMove=function(t){e.setVolume(100*t),n(t)},t.onSliderUp=function(t){e.setVolume(100*t),n(t)},t.$watch(function(){return e.getVolume()},function(e){n(e/100)})})}}})}(angular),function(e){e.module("hrAngularYoutube").directive("showIfMuted",["$animate",function(e){return{restrict:"A",require:"^youtubePlayer",link:function(t,n,r,i){e.addClass(n,"ng-hide"),i.getPlayer().then(function(t){var i=function(){var i=!t.isMuted();"true"===r.showIfMuted&&(i=!i),i?e.removeClass(n,"ng-hide"):e.addClass(n,"ng-hide")};i(),t.on("muteChange",i)})}}}])}(angular),function(e){e.module("hrAngularYoutube").directive("showIfPlayerIs",["$animate",function(t){return{restrict:"AE",require:"^youtubePlayer",link:function(n,r,i,a){t.addClass(r,"ng-hide"),a.getPlayer().then(function(n){var a=[],o=i.showIfPlayerIs.toUpperCase().split(",");e.forEach(o,function(e){if(!YT.PlayerState.hasOwnProperty(e))throw new Error("Video status "+e+" is not defined");a.push(YT.PlayerState[e])});var u=function(e){-1!==a.indexOf(e.data)?t.removeClass(r,"ng-hide"):t.addClass(r,"ng-hide")};n.on("onStateChange",u),u({data:n.getPlayerState()})})}}}])}(angular),function(){"use strict";function e(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return{getHash:e}}angular.module("hrAngularYoutube").factory("youtubeUuid",e),e.$inject=[]}(),function(e){e.module("hrAngularYoutube").factory("YoutubeMarkerList",[function(){var e=function(){this.markersById={},this.player=null};return e.prototype.getMarkers=function(){return this.markersById},e.prototype.add=function(e){return this.markersById[e.id]=e,this.player.emit("markerAdd",e),e},e.prototype.remove=function(e){var t=this.markersById[e];return t&&(delete this.markersById[e],this.player.emit("markerRemove",t)),t},e.prototype.getMarker=function(e){return this.markersById[e]},e.prototype.setPlayer=function(e){this.player=e},e}])}(angular),function(e){e.module("hrAngularYoutube").factory("YoutubeMarker",["youtubeUuid",function(e){var t=function(t){this.startTime=t.startTime||null,this.endTime=t.endTime||null,this.duration=t.duration||null,this.handler=t.handler||this.handler||null,this.fireOnce=t.fireOnce||!1,this.launchOnSeek=t.launchOnSeek||!1,this.blockFF=t.blockFF||!1,this.showMarker="undefined"!=typeof t.showMarker?t.showMarker:!0,this.barCss="undefined"!=typeof t.barCss?t.barCss:"",this._runCount=0,this._isRunning=!1,this.player=null,this.id=this.id||t.id||e.getHash(),null!==this.duration&&(this.endTime=this.startTime+this.duration)};return t.prototype.setPlayer=function(e){this.player=e},t.prototype.getPlayer=function(){return this.player},t.prototype.shouldLaunchOnSeek=function(e){return this.getLaunchOnSeek()?this.hasEndTime()?this.inRange(e.newTime):this.startTime>=e.oldTime&&this.startTime<=e.newTime:void 0},t.prototype.getLaunchOnSeek=function(){return this.getBlockOnFF()?!0:this.launchOnSeek},t.prototype.getBlockOnFF=function(){return this._runCount>0&&this.fireOnce?!1:this.blockFF},t.prototype.hasEndTime=function(){return null!==this.endTime},t.prototype.inRange=function(e){return this.hasEndTime()?e>=this.startTime&&e<this.endTime:!1},t.prototype.startedIn=function(e,t){return this.startTime>e&&this.startTime<=t},t.prototype.endedIn=function(e,t){return this.hasEndTime()?this.endTime>e&&this.endTime<=t:!1},t.prototype.start=function(){return this._isRunning?!1:this._runCount>0&&this.fireOnce?!1:(this._runCount++,this._isRunning=!0,"function"==typeof this.handler&&this.handler(),!0)},t.prototype.end=function(){this.isRunning()&&(this._isRunning=!1,"function"==typeof this.onEnd&&this.onEnd())},t.prototype.isRunning=function(){return this._isRunning},t}])}(angular),function(e){"use strict";e.module("hrAngularYoutube").factory("YoutubePlayer",["$q","$interval","$rootScope","youtubeReadableTime","youtubeQualityMap","youtubeUuid","YoutubeMarkerList","hrAngularExtend",function(t,n,r,i,a,o,u,l){var s=function(t,n){this.options=n;var r=e.copy(n);r.width="100%",r.height="100%";var i=this;this.player=new YT.Player(t,r),this.markerList=new u,this._muted=!1,this._volume=100,this._intendedQuality="auto",this.on("onStateChange",function(e){e.data===YT.PlayerState.PLAYING&&(i.setVolume(i.player.getVolume()),i._setMuted(i.player.isMuted()))}),this.on("markerAdd",function(e){i._initializeMarkerListener(),e.setPlayer(i)}),this.on("markerRemove",function(e){e.end()})};return l.factory(s),e.forEach(["getOptions","loadModule","loadVideoById","loadVideoByUrl","cueVideoById","cueVideoByUrl","cuePlaylist","loadPlaylist","playVideo","pauseVideo","stopVideo","seekTo","clearVideo","nextVideo","previousVideo","playVideoAt","setSize","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","setLoop","setShuffle","getVideoLoadedFraction","getPlayerState","getCurrentTime","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getDuration","getVideoUrl","getVideoEmbedCode","getPlaylist","getPlaylistIndex","getIframe","destroy"],function(e){s.prototype[e]=function(){return this.player[e].apply(this.player,arguments)}}),s.prototype.setOverlayElement=function(e){this._element=e},s.prototype.getOverlayElement=function(){return this._element},s.prototype.getHumanReadableDuration=function(){return i(this.getDuration())},s.prototype.getHumanReadableCurrentTime=function(){return i(this.getCurrentTime())},s.prototype.onProgress=function(e,t){"undefined"==typeof t&&(t=100);var r=null,i=function(){null===r&&(r=n(e,t))},a=function(){n.cancel(r),r=null},o=function(){a()};return this.on("onStateChange",function(e){e.data===YT.PlayerState.PLAYING?i():a()}),this.getPlayerState()===YT.PlayerState.PLAYING&&i(),o},s.prototype.eventSeekTo=function(r,i){var a=this,o=this.player.getCurrentTime();e.forEach(a.markerList.getMarkers(),function(e){e.getBlockOnFF()&&e.startedIn(o,r)&&(r=e.startTime)}),this.player.seekTo(r,i),a.emit("seekToBegin",{newTime:r,oldTime:o});var u=t.defer(),l=n(function(){var e=a.player.getCurrentTime(),t=!1;if(o>r?o>e&&(t=!0):e>=r&&(t=!0),t){n.cancel(l);var i={newTime:r,oldTime:o};a.emit("seekToCompleted",i),u.resolve(i)}},50);return u.promise},s.prototype.startLoading=function(e){var t,n=this,r=function(r){r.data===YT.PlayerState.PLAYING&&("number"==typeof e&&n.eventSeekTo(e,!0),t(),n.player.pauseVideo())};t=this.on("onStateChange",r),this.player.playVideo()},s.prototype._initializeEventListener=function(){if(!this._eventsInitialized){var t=this;this._eventHash=o.getHash();var n=["onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange","onReady"];e.forEach(n,function(e){t.player.addEventListener(e,function(n){t.emit(e,n)})}),this._eventsInitialized=!0}},s.prototype.on=function(e,t){return this._initializeEventListener(),r.$on(this._eventHash+e,function(e,n){t(n)})},s.prototype.emit=function(e,t){r.$emit(this._eventHash+e,t)},s.prototype._initializeMarkerListener=function(){if(!this._markerListener){this._markerListener=!0;var t=function(e){e.start()&&r.emit("markerRun",e)},n=function(e){e.end(),r.emit("markerStop",e)},r=this,i=-1;this.onProgress(function(){var a=r.getCurrentTime(),o=i;e.forEach(r.markerList.getMarkers(),function(e){e.startedIn(i,a)&&(t(e),o=Math.max(o,e.startTime)),e.endedIn(i,a)&&e.isRunning()&&(n(e),o=Math.max(o,e.endTime))}),i=o}),this.on("seekToCompleted",function(a){e.forEach(r.markerList.getMarkers(),function(e){e.isRunning()?e.inRange(a.newTime)||n(e):e.shouldLaunchOnSeek(a)&&t(e)}),i=a.newTime})}},s.prototype.setMarkerList=function(e){this._initializeMarkerListener(),this.markerList=e,this.markerList.setPlayer(this),this.emit("markerListChanged")},s.prototype.addMarker=function(e){return this.markerList.add(e)},s.prototype.removeMarker=function(e){return this.markerList.removeById(e)},s.prototype.getMarkers=function(){return this.markerList.getMarkers()},s.prototype.getMarker=function(e){return this.markerList.getMarker(e)},s.prototype.setVolume=function(e){this._setMuted(0===e),this._volume=e,this.player.setVolume(e)},s.prototype.getVolume=function(){return this._muted?0:this._volume},s.prototype._setMuted=function(e){var t=this._muted!==e;this._muted=e,t&&this.emit("muteChange")},s.prototype.mute=function(){this._setMuted(!0),this.player.mute()},s.prototype.unMute=function(){this._setMuted(!1),this.player.unMute()},s.prototype.isMuted=function(){return this._muted},s.prototype.toggleMute=function(){this.isMuted()?this.unMute():this.mute()},s.prototype.getHumanPlaybackQuality=function(){return a.convertToYoutube(this.player.getPlaybackQuality())},s.prototype.getHumanIntendedPlaybackQuality=function(e){var t=a.convertToYoutube(this._intendedQuality);return"Auto"===t&&e&&"Auto"!==this.getHumanPlaybackQuality()&&(t+=" ("+this.getHumanPlaybackQuality()+")"),t},s.prototype.setHumanPlaybackQuality=function(e){var t=a.convertFromYoutube(e);this.setPlaybackQuality(t),this.emit("onIntentPlaybackQualityChange")},s.prototype.setPlaybackQuality=function(e){this._intendedQuality=e,this.player.setPlaybackQuality(e)},s}])}(angular),function(){"use strict";function e(){function e(){var e;for(var t in a)e=a[t],o[e]=t}function t(e){var t=a[e];return t||(t="Auto"),t}function n(e){return t(e)}function r(e){var t=o[e];return t||(t="default"),t}function i(e){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n}var a={hd1080:"1080p",hd720:"720p",large:"480p",medium:"360p",small:"240p",tiny:"144p",auto:"Auto"},o={};return e(),{convertToYoutube:n,convertFromYoutube:r,convertToYoutubeArray:i}}angular.module("hrAngularYoutube").factory("youtubeQualityMap",e),e.$inject=[]}(),function(e){e.module("hrAngularYoutube").factory("youtubeReadableTime",function(){return function(e){e=Math.floor(e);var t=e%60,n=Math.floor(e/60),r=Math.floor(n/60);return n%=60,r>0?r+":"+String("00"+n).slice(-2)+":"+String("00"+t).slice(-2):n+":"+String("00"+t).slice(-2)}})}(angular),function(e){e.module("hrAngularYoutube").factory("YoutubeTemplateMarker",["$rootScope","$compile","YoutubeMarker","$q","$http","$templateCache",function(t,n,r,i,a,o){var u=function(e){r.call(this,e),this._elm=null,this._scope=null,this._parentScope=e.scope||t,this._parentElm=e.parent,this._addMethod=e.addMethod||"append",this.template=e.template||null,this.link=e.link||this.link||null,this._loadTemplate(e)};return e.extend(u.prototype,r.prototype),u.prototype.setParent=function(e){this._parentElm=e},u.prototype.getParent=function(){return this._parentElm},u.prototype.setParentScope=function(e){this._parentScope=e},u.prototype.getParentScope=function(){return this._parentScope},u.prototype.handler=function(){var t=this;this._parentElm||(this._parentElm=this.player.getOverlayElement()),this._scope=this._parentScope.$new(!0),this.template.then(function(r){var i=e.element(r);t._parentElm[t._addMethod](i),t._elm=n(i)(t._scope),"function"==typeof t.link&&t.link(t._scope)})},u.prototype._loadTemplate=function(e){e.hasOwnProperty("template")?this.template=i.when(e.template):e.hasOwnProperty("templateUrl")&&(this.template=a.get(e.templateUrl,{cache:o}).then(function(e){return e.data}))},u.prototype.onEnd=function(){this.destroy()},u.prototype.destroy=function(){null!==this._elm&&(this._scope.$destroy(),this._elm.remove(),this._scope=null,this._elm=null)},u}])}(angular),function(e){"use strict";e.module("hrAngularYoutube").provider("youtube",function(){var t={playerVars:{origin:location.origin+"/",enablejsapi:1}},n=!0;this.setAutoLoad=function(e){n=e},this.setOptions=function(e){t=e},this.getOptions=function(){return t},this.setOption=function(e,n){t[e]=n},this.setPlayerVarOption=function(e,n){t.playerVars[e]=n},this.$get=["$window","$q","$injector",function(r,i,a){var o=i.defer(),u=o.promise;return r.onYouTubeIframeAPIReady=function(){o.resolve()},{loadPlayer:function(n,r,o){return u.then(function(){var u=a.get(n),l=i.defer(),s={};e.extend(s,e.copy(t),o),s.playerVars={},e.extend(s.playerVars,e.copy(t.playerVars),o.playerVars);var c=new u(r,s);return c.on("onReady",function(){l.resolve(c)}),l.promise})},getAutoLoad:function(){return n}}}]})}(angular),System.register("src/ng-helper/component",["angular"],function(e,t){"use strict";function n(e){return function(t){r.module("hrAngularYoutube").directive(e.selector,function(){var n=[e.selector];e.require&&(n=n.concat(e.require));var r=__assign({},e.scope),i={restrict:"E",templateUrl:e.templateUrl,template:e.template,scope:r,controllerAs:"ctrl",controller:t,bindToController:!0,link:e.link,transclude:e.transclude,require:n};return i})}}t&&t.id;e("Component",n);var r;return{setters:[function(e){r=e}],execute:function(){}}}),System.register("src/ng-helper/compose-link",[],function(e,t){"use strict";function n(e){return function(t,n,r,i,a){var o=this;e.forEach(function(e){return e.call(o,t,n,r,i,a)})}}t&&t.id;return e("composeLinkFn",n),{setters:[],execute:function(){}}}),System.register("src/ng-helper/lifecycle",[],function(e,t){"use strict";function n(e){function t(e,n){return void 0===e||0===n.length?e:t(e[n[0]],n.slice(1))}var n=e.split(".");return function(e){return t(e,n)}}function r(e,t){return function(r,i,a,o){var u=o[0],l=e.map(function(e){return n(e)}),s=r.$watch(function(){for(var n=0;n<e.length;n++)if(!l[n](u)&&!l[n](r))return;s(),u[t]()})}}function i(e){return r(e,"ngOnInit")}function a(e){return r(e,"ngAfterViewInit")}function o(e){return r(e,"ngAfterContentInit")}function u(e){return function(t,n,r,i){var a=t.$watch(r[e],function(e){"undefined"!=typeof e&&(a(),i[0].ngOnInit())})}}t&&t.id;return e("mockNgOnInitLink",i),e("mockNgAfterViewInit",a),e("mockNgAfterContentInit",o),e("mockNgOnInitFromAttr",u),{setters:[],execute:function(){}}}),System.register("src/ng-helper/require",["src/ng-helper/compose-link","src/ng-helper/lifecycle"],function(e,t){"use strict";function n(e){return function(t,n,r,i){var a=i[0];i.splice(1).forEach(function(t,n){t&&(a[e[n]]=t)})}}function r(e){return i.composeLinkFn([n(e),a.mockNgOnInitLink(e)])}t&&t.id;e("bindRequireToCtrl",n),e("bindToCtrlCallOnInit",r);var i,a;return{setters:[function(e){i=e},function(e){a=e}],execute:function(){}}}),System.register("src/ng-helper/facade",["src/ng-helper/component","src/ng-helper/compose-link","src/ng-helper/lifecycle","src/ng-helper/require"],function(e,t){"use strict";function n(t){var n={};for(var r in t)"default"!==r&&(n[r]=t[r]);e(n)}t&&t.id;return{setters:[function(e){n(e)},function(e){n(e)},function(e){n(e)},function(e){n(e)}],execute:function(){}}}),System.register("src/overlay/player-play.component",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e){this.elm=e,console.log("Im in typescript :)")}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){return e.elm.on("click",function(){return t.playVideo()})})},e}(),r.$inject=["$element"],r=__decorate([n.Component({selector:"playerPlay",templateUrl:"/template/overlay/player-play.component.html",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),transclude:!0,require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object])],r),e("PlayerPlay",r)}}});