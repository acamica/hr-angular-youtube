!function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/directive/youtube-player.component.html",'<div class="hr-yt-wrapper">\n    <div class="hr-yt-video-place-holder"></div>\n    <div class="hr-yt-overlay" ng-transclude=""></div>\n</div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-panel.component.html",'<div ng-transclude=""></div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-pause.component.html",'<div style="display: inherit" ng-transclude=""></div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-play.component.html",'<div style="display: inherit" ng-transclude=""></div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-progress-bar-hover-indicator.component.html",'<div class="hr-hover-indicator">\n    <span ng-bind="time"></span>\n</div>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-progress-bar.component.html",'<div yt-slider="onSliderUp($percentage)"\n     yt-slider-down="onSliderDown()"\n     yt-slider-move="onSliderMove($percentage)"\n     style="width:100%;height:100%;">\n        <div class="hr-yt-played"></div>\n        <div class="hr-yt-loaded"></div>\n        <div class="hr-yt-handle"></div>\n</div>\n<span ng-repeat="marker in markers" class="hr-yt-marker" ng-if="marker.showMarker" marker="marker">\n    </span>\n')}])}(),function(e){try{e=angular.module("hrAngularYoutubeTpls")}catch(t){e=angular.module("hrAngularYoutubeTpls",[])}e.run(["$templateCache",function(e){e.put("/template/overlay/player-volume-horizontal.component.html",'<div ng-click="toggleMute()" class="ng-transclude"></div>\n    <div class="hr-yt-volume-hr-bar"\n         yt-slider-move="onSliderMove($percentage)"\n         yt-slider="onSliderUp($percentage)">\n    <div class="hr-yt-setted"></div>\n    <div class="hr-yt-handle"></div>\n</div>\n')}])}();var __assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},__decorate=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0};System.register("src/ng-helper/module",["angular"],function(e,t){"use strict";{var n;t&&t.id}return{setters:[function(e){n=e}],execute:function(){n.module("hrAngularYoutube",["hrAngularExtend","hrAngularYoutubeTpls"])}}}),System.register("src/ng-helper/component",["angular","src/ng-helper/module"],function(e,t){"use strict";function n(e){return function(t){r.module("hrAngularYoutube").directive(e.selector,function(){var n=[e.selector];e.require&&(n=n.concat(e.require));var r=__assign({},e.scope),i={restrict:"E",templateUrl:e.templateUrl,template:e.template,scope:r,controllerAs:"ctrl",controller:t,bindToController:!0,link:e.link,transclude:e.transclude,require:n};return i})}}t&&t.id;e("Component",n);var r;return{setters:[function(e){r=e},function(){}],execute:function(){}}}),System.register("src/ng-helper/compose-link",[],function(e,t){"use strict";function n(e){return function(t,n,r,i,o){var a=this;e.forEach(function(e){return e.call(a,t,n,r,i,o)})}}t&&t.id;return e("composeLinkFn",n),{setters:[],execute:function(){}}}),System.register("src/ng-helper/directive",["angular","src/ng-helper/module"],function(e,t){"use strict";function n(e){return function(t){r.module("hrAngularYoutube").directive(e.selector,function(){var n=[e.selector];e.require&&(n=n.concat(e.require));var r={restrict:"A",controller:t,link:e.link,multiElement:e.multiElement,transclude:e.transclude,priority:e.priority,terminal:e.terminal,require:n,replace:e.replace,template:e.template};return r})}}t&&t.id;e("Directive",n);var r;return{setters:[function(e){r=e},function(){}],execute:function(){}}}),System.register("src/ng-helper/lifecycle",[],function(e,t){"use strict";function n(e){function t(e,n){return void 0===e||0===n.length?e:t(e[n[0]],n.slice(1))}var n=e.split(".");return function(e){return t(e,n)}}function r(e,t){return function(r,i,o,a){var u=a[0],s=e.map(function(e){return n(e)}),l=r.$watch(function(){for(var n=0;n<e.length;n++)if(!s[n](u)&&!s[n](r))return;l(),u[t]()})}}function i(e){return r(e,"ngOnInit")}function o(e){return r(e,"ngAfterViewInit")}function a(e){return r(e,"ngAfterContentInit")}function u(e){return function(t,n,r,i){var o=t.$watch(r[e],function(e){"undefined"!=typeof e&&(o(),i[0].ngOnInit())})}}t&&t.id;return e("mockNgOnInitLink",i),e("mockNgAfterViewInit",o),e("mockNgAfterContentInit",a),e("mockNgOnInitFromAttr",u),{setters:[],execute:function(){}}}),System.register("src/ng-helper/require",["src/ng-helper/compose-link","src/ng-helper/lifecycle"],function(e,t){"use strict";function n(e){return function(t,n,r,i){var o=i[0];i.splice(1).forEach(function(t,n){t&&(o[e[n]]=t)})}}function r(e){return i.composeLinkFn([n(e),o.mockNgOnInitLink(e)])}t&&t.id;e("bindRequireToCtrl",n),e("bindToCtrlCallOnInit",r);var i,o;return{setters:[function(e){i=e},function(e){o=e}],execute:function(){}}}),System.register("src/ng-helper/facade",["src/ng-helper/component","src/ng-helper/compose-link","src/ng-helper/directive","src/ng-helper/lifecycle","src/ng-helper/require"],function(e,t){"use strict";function n(t){var n={};for(var r in t)"default"!==r&&(n[r]=t[r]);e(n)}t&&t.id;return{setters:[function(e){n(e)},function(e){n(e)},function(e){n(e)},function(e){n(e)},function(e){n(e)}],execute:function(){}}}),System.register("src/directive/youtube-player.component",["src/ng-helper/facade","angular"],function(e,t){"use strict";function n(e){return"number"==typeof e||/^\d+$/.test(e)?e+"px":e}{var r,i,o,a,u;t&&t.id}return{setters:[function(e){r=e},function(e){i=e}],execute:function(){o=["id","height","width"],a=["autohide","autoplay","ccLoadPolicy","color","controls","disablekb","enablejsapi","end","fs","ivLoadPolicy","list","listType","loop","modestbranding","origin","playerapiid","playlist","playsinline","rel","showinfo","start","theme"],u=function(){function e(e,t,n,r,i){this.elm=e,this.attrs=t,this.scope=n,this.youtube=r,this.$q=i,this.$videoElm=null,this.player=i.defer(),e.css("position","relative"),e.css("display","block"),this.setOverlayElement(e),this.ngOnInit()}return e.prototype.setPlayer=function(e){this.player.resolve(e)},e.prototype.getPlayer=function(){return this.player.promise},e.prototype.destroyPlayer=function(){this.player.promise.then(function(e){e.destroy()}),this.player=this.$q.defer()},e.prototype.setOverlayElement=function(e){this.$overlayElm=e},e.prototype.getOverlayElement=function(){return this.$overlayElm},e.prototype.getVideoElement=function(){return null===this.$videoElm&&(this.$videoElm=i.element(this.getOverlayElement()[0].querySelector(".hr-yt-video-place-holder"))),this.$videoElm},e.prototype.ngOnInit=function(){var e=this,t=this.elm[0].querySelector(".hr-yt-video-place-holder"),r=i.element(this.elm[0].querySelector(".hr-yt-overlay")),u={playerVars:{}};o.forEach(function(t){e.attrs.hasOwnProperty(t)&&(u[t]=e.attrs[t])}),a.forEach(function(t){e.attrs.hasOwnProperty(t)&&(u.playerVars[t]=e.attrs[t])});var s=this.attrs.playerFactory||"YoutubePlayer",l=!1,c=function(){l=!0,u.videoId=e.videoId,u.hasOwnProperty("width")||u.hasOwnProperty("height")||(u.height="390",u.width="640"),e.elm.css("height",n(u.height)),e.elm.css("width",n(u.width)),e.youtube.loadPlayer(s,t,u).then(function(t){return e.setPlayer(t),t.setOverlayElement(r),"undefined"!=typeof e.ngModelCtrl&&e.ngModelCtrl.$setViewValue(t),t})};this.scope.$watch(function(){return e.videoId},function(t){"undefined"!=typeof t&&(l?e.getPlayer().then(function(e){e.loadVideoById(t)}):c())});var p=16/9,y=function(){if(u.height){var t=Math.round(e.elm[0].clientHeight*p);e.elm.css("width",n(t))}else if(u.width){var r=Math.round(e.elm[0].clientWidth/p);e.elm.css("height",n(r))}};if(this.attrs.hasOwnProperty("keepAspectRatio")){var d=this.attrs.keepAspectRatio.match(/^(\d+):(\d+)$/);d&&(p=d[1]/d[2]),i.element(window).bind("resize",y);var h=0;this.scope.$watch(function(){var t=0;t=u.height?e.elm[0].clientHeight:e.elm[0].clientWidth,h!==t&&0!==t&&(setTimeout(function(){e.scope.$apply(y)}),h=t)})}this.scope.$on("$destroy",function(){this.destroyPlayer(),l=!1,"undefined"!=typeof this.ngModelCtrl&&this.ngModelCtrl.$setViewValue(void 0),i.element(window).unbind("resize",y)})},e}(),u.$inject=["$element","$attrs","$scope","youtube","$q"],u=__decorate([r.Component({selector:"youtubePlayer",templateUrl:"/template/directive/youtube-player.component.html",transclude:!0,link:r.bindRequireToCtrl(["ngModelCtrl"]),scope:{videoId:"="},require:["?ngModel"]}),__metadata("design:paramtypes",[Object,Object,Object,Object,Object])],u),e("YoutubePlayerComponent",u)}}}),System.register("src/directive/yt-slider.directive",["src/ng-helper/facade","angular"],function(e,t){"use strict";{var n,r,i;t&&t.id}return{setters:[function(e){n=e},function(e){r=e}],execute:function(){i=function(){function e(e,t,n,r,i){this.elm=e,this.attrs=t,this.scope=n,this.$parse=r,this.$document=i}return e.prototype.ngOnInit=function(){var e=this,t=this.$parse(this.attrs.ytSliderDown),n=this.$parse(this.attrs.ytSliderMove),i=this.$parse(this.attrs.ytSlider),o=function(t){var n=e.elm[0].getBoundingClientRect().left,r=Math.min(Math.max(0,t-n),e.elm[0].clientWidth),i=r/e.elm[0].clientWidth;return i};this.youtubePlayer.getPlayer().then(function(){var a=e.youtubePlayer.getVideoElement();e.elm.on("mousedown",function(u){if(0===u.button){var s=o(u.pageX);t(e.scope,{$percentage:s});var l=r.element("<div></div>");l.css("position","absolute"),l.css("width",a[0].clientWidth+"px"),l.css("height",a[0].clientHeight+"px"),l.css("pointer-events","false"),l.css("top","0"),a.parent().append(l);var c=function(t){e.scope.$apply(function(){var r=o(t.pageX);n(e.scope,{$percentage:r})})},p=function(t){e.scope.$apply(function(){var n=o(t.pageX);e.$document.off("mousemove",c),e.$document.off("mouseup",p),l.remove(),i(e.scope,{$percentage:n})})};e.$document.on("mousemove",c),e.$document.on("mouseup",p)}})})},e}(),i.$inject=["$element","$attrs","$scope","$parse","$document"],i=__decorate([n.Directive({selector:"ytSlider",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object,Object,Object,Object])],i),e("YoutubeSliderDirective",i)}}}),System.register("src/overlay/hr-yt-marker.directive",["angular","src/ng-helper/facade"],function(e,t){"use strict";{var n,r,i;t&&t.id}return{setters:[function(e){n=e},function(e){r=e}],execute:function(){i=function(){function e(e,t){this.elm=e,this.scope=t}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){var n=t.getDuration(),r=e.scope.marker;""!==r.barCss&&e.elm.addClass(r.barCss);var i=function(){var t=100*r.startTime/n;e.elm.css("left",t+"%")};i(),r.hasOwnProperty("mutable")&&r.mutable&&e.scope.$watch(function(){return r.startTime},function(e,t){e!==t&&i()})})},e}(),i.$inject=["$element","$scope"],e("YoutubeMarker",i),n.module("hrAngularYoutube").directive("hrYtMarker",function(){return{restrict:"C",require:["hrYtMarker","^youtubePlayer"],scope:{marker:"="},link:r.bindToCtrlCallOnInit(["youtubePlayer"]),controller:i}})}}}),System.register("src/overlay/player-current-quality.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e,t){this.elm=e,this.attrs=t}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){var n=function(){var n;if(e.attrs.hasOwnProperty("intendedQuality")){var r=!1;e.attrs.hasOwnProperty("showRealAuto")&&(r=!0),n=t.getHumanIntendedPlaybackQuality(r)}else n=t.getHumanPlaybackQuality();e.elm.html(n)};t.on("onPlaybackQualityChange",n),t.on("onIntentPlaybackQualityChange",n),n()})},e}(),r.$inject=["$element","$attrs"],r=__decorate([n.Directive({selector:"playerCurrentQuality",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object])],r),e("PlayerCurrentQualityComponent",r)}}}),System.register("src/overlay/player-current-speed.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e){this.elm=e}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){var n=function(){return e.elm.html(t.getPlaybackRate())};t.on("onPlaybackRateChange",n),n()})},e}(),r.$inject=["$element"],r=__decorate([n.Directive({selector:"playerCurrentSpeed",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object])],r),e("PlayerCurrentSpeedDirective",r)}}}),System.register("src/overlay/player-current-time.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e){this.elm=e}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){t.onProgress(function(){return e.elm.html(t.getHumanReadableCurrentTime())},250),t.on("seekToCompleted",function(){e.elm.html(t.getHumanReadableCurrentTime())})})},e}(),r.$inject=["$element"],r=__decorate([n.Directive({selector:"playerCurrentTime",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object])],r),e("PlayerCurrentTimeComponent",r)}}}),System.register("src/overlay/player-panel.component",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e,t,n,r,i){this.elm=e,this.scope=t,this.attrs=n,this.$animate=r,this.$timeout=i}return e.prototype.ngOnInit=function(){var e=this,t=this.youtubePlayer.getOverlayElement();this.youtubePlayer.getPlayer().then(function(n){var r={},i=function(t){r[t]=!0,e.$animate.addClass(e.elm,"ng-show")},o=function(t){delete r[t],0===Object.keys(r).length&&e.$animate.removeClass(e.elm,"ng-show")};if("showOnHover"in e.attrs&&e.attrs.showOnHover!==!1){var a=parseInt(e.attrs.showOnHover),u=null,s=function(){null!==u&&e.$timeout.cancel(u),u=null};t.on("mouseenter",function(){s(),i("showOnHover"),isNaN(a)||(u=e.$timeout(function(){return o("showOnHover")},a))}),t.on("mouseleave",function(){s(),o("showOnHover")})}var l=function(e){e.data===YT.PlayerState.PLAYING?o("showOnPause"):i("showOnPause")};"showOnPause"in e.attrs&&e.attrs.showOnPause!==!1&&(n.on("onStateChange",l),l({data:n.getPlayerState()}))})},e}(),r.$inject=["$element","$scope","$attrs","$animate","$timeout"],r=__decorate([n.Component({selector:"playerPanel",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"],transclude:!0,templateUrl:"/template/overlay/player-panel.component.html"}),__metadata("design:paramtypes",[Object,Object,Object,Object,Object])],r),e("PlayerPanelComponent",r)}}}),System.register("src/overlay/player-pause.component",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e){this.elm=e}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){return e.elm.on("click",function(){return t.pauseVideo()})})},e}(),r.$inject=["$element"],r=__decorate([n.Component({selector:"playerPause",templateUrl:"/template/overlay/player-pause.component.html",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),transclude:!0,require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object])],r),e("PlayerPauseComponent",r)}}}),System.register("src/overlay/player-play.component",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e){this.elm=e}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){return e.elm.on("click",function(){return t.playVideo()})})},e}(),r.$inject=["$element"],r=__decorate([n.Component({selector:"playerPlay",templateUrl:"/template/overlay/player-play.component.html",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),transclude:!0,require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object])],r),e("PlayerPlayComponent",r)}}}),System.register("src/service/youtube-readable-time.service",[],function(e,t){"use strict";function n(e){e=Math.floor(e);var t=e%60,n=Math.floor(e/60),r=Math.floor(n/60);return n%=60,r>0?r+":"+String("00"+n).slice(-2)+":"+String("00"+t).slice(-2):n+":"+String("00"+t).slice(-2)}t&&t.id;return e("youtubeReadableTime",n),{setters:[],execute:function(){}}}),System.register("src/overlay/player-progress-bar-hover-indicator.component",["src/ng-helper/facade","src/service/youtube-readable-time.service"],function(e,t){"use strict";{var n,r,i;t&&t.id}return{setters:[function(e){n=e},function(e){r=e}],execute:function(){i=function(){function e(e,t,n,r,i,o){this.elm=e,this.$document=t,this.$compile=n,this.$templateCache=r,this.$http=i,this.scope=o}return e.prototype.ngOnInit=function(){var e=this,t=function(t){var n=e.elm[0].getBoundingClientRect().left,r=Math.min(Math.max(0,t-n),e.elm[0].clientWidth),i=r/e.elm[0].clientWidth;return i},n="/template/overlay/player-progress-bar-hover-indicator.component.html",i=this.$http.get(n,{cache:this.$templateCache}).then(function(e){return e.data}),o=null,a=this.scope.$new(!0);i.then(function(t){o=e.$compile(t)(a),o.addClass("ng-hide"),e.elm.parent().append(o)}),this.youtubePlayer.getPlayer().then(function(n){var i=n.getDuration(),u=function(e){var n=t(e.pageX);a.$apply(function(e){e.time=r.youtubeReadableTime(n*i)}),o.css("left",100*n+"%")};e.elm.on("mouseenter",function(){e.$document.on("mousemove",u),o.removeClass("ng-hide")}),e.elm.on("mouseleave",function(){e.$document.off("mousemove",u),o.addClass("ng-hide")})})},e}(),i.$inject=["$element","$document","$compile","$templateCache","$http","$scope"],i=__decorate([n.Directive({selector:"hoverIndicator",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object,Object,Object,Object,Object])],i),e("HoverIndicatorComponent",i)}}}),System.register("src/overlay/player-progress-bar.component",["src/ng-helper/facade","angular"],function(e,t){"use strict";{var n,r,i;t&&t.id}return{setters:[function(e){n=e},function(e){r=e}],execute:function(){i=function(){function e(e,t){this.elm=e,this.scope=t}return e.prototype.ngOnInit=function(){var e=this,t=r.element(this.elm[0].querySelector(".hr-yt-played")),n=r.element(this.elm[0].querySelector(".hr-yt-loaded")),i=r.element(this.elm[0].querySelector(".hr-yt-handle"));this.youtubePlayer.getPlayer().then(function(r){var o=r.getDuration(),a=function(a){var u,s;r.getPlayerState()===YT.PlayerState.ENDED?(u=100,s=100):"number"==typeof a?(u=100*a/o,s=100*r.getVideoLoadedFraction()):(u=100*r.getCurrentTime()/o,s=100*r.getVideoLoadedFraction());var l=15,c=u*e.elm[0].clientWidth/100-l/2;c=Math.min(Math.max(0,c),e.elm[0].clientWidth-l),n.css("width",s+"%"),t.css("width",u+"%"),i.css("left",c+"px")};r.onProgress(function(){a()}),r.on("seekToBegin",function(e){return a(e.newTime)}),r.on("onStateChange",a);var u=null;e.scope.onSliderDown=function(){u=r.getPlayerState(),r.pauseVideo()},e.scope.onSliderMove=function(e){var t=Math.round(o*e);a(t)},e.scope.onSliderUp=function(e){var t=Math.round(o*e);u===YT.PlayerState.PLAYING||u===YT.PlayerState.PAUSED?r.eventSeekTo(t,!0):r.startLoading(t),u===YT.PlayerState.PLAYING&&r.playVideo()},e.scope.markers=r.getMarkers(),r.on("markerListChanged",function(){return e.scope.markers=r.getMarkers()})})},e}(),i.$inject=["$element","$scope"],i=__decorate([n.Component({selector:"playerProgressBar",templateUrl:"/template/overlay/player-progress-bar.component.html",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object])],i),e("PlayerProgressBar",i)}}}),System.register("src/service/youtube-quality-map.service",[],function(e,t){"use strict";function n(e){var t,n={};for(var r in e)t=e[r],n[t]=r;return n}{var r,i,o,a,u;t&&t.id}return{setters:[],execute:function(){r={hd1080:"1080p",hd720:"720p",large:"480p",medium:"360p",small:"240p",tiny:"144p",auto:"Auto"},i=n(r),e("convertToYoutube",o=function(e){return r[e]?r[e]:"Auto"}),e("convertFromYoutube",a=function(e){return i[e]?i[e]:"default"}),e("convertToYoutubeArray",u=function(e){return e.map(o)})}}}),System.register("src/overlay/player-repeat-available-quality.directive",["src/ng-helper/facade","src/service/youtube-quality-map.service"],function(e,t){"use strict";{var n,r,i;t&&t.id}return{setters:[function(e){n=e},function(e){r=e}],execute:function(){i=function(){function e(e,t,n){this.elm=e,this.scope=t,this.attrs=n}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){var n=t.on("onStateChange",function(i){i.data===YT.PlayerState.PLAYING&&(n(),e.scope.availableQuality=r.convertToYoutubeArray(t.getAvailableQualityLevels()),e.attrs.hasOwnProperty("reverse")&&e.scope.availableQuality.reverse())});e.scope.availableQuality=["Auto"]})},e}(),i.$inject=["$element","$scope","$attrs"],i=__decorate([n.Directive({selector:"playerRepeatAvailableQuality",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"],replace:!0,priority:1e3,template:function(e){return e.removeAttr("player-repeat-available-quality"),e.attr("ng-repeat","$quality in availableQuality"),e[0].outerHTML}}),__metadata("design:paramtypes",[Object,Object,Object])],i),e("PlayerRepeatAvailableSpeedDirective",i)}}}),System.register("src/overlay/player-repeat-available-speed.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e,t,n){this.elm=e,this.scope=t,this.attrs=n}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){e.scope.availableSpeeds=t.getAvailablePlaybackRates(),e.attrs.hasOwnProperty("reverse")&&e.scope.availableSpeeds.reverse()})},e}(),r.$inject=["$element","$scope","$attrs"],r=__decorate([n.Directive({selector:"playerRepeatAvailableSpeed",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"],replace:!0,priority:1e3,template:function(e){return e.removeAttr("player-repeat-available-speed"),e.attr("ng-repeat","$speed in availableSpeeds"),e[0].outerHTML}}),__metadata("design:paramtypes",[Object,Object,Object])],r),e("PlayerRepeatAvailableSpeedDirective",r)}}}),System.register("src/overlay/player-set-quality.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e,t,n,r){this.elm=e,this.$parse=t,this.attrs=n,this.scope=r}return e.prototype.ngOnInit=function(){var e=this,t=this.$parse(this.attrs.playerSetQuality);this.youtubePlayer.getPlayer().then(function(n){return e.elm.on("click",function(){return e.scope.$apply(function(){return n.setHumanPlaybackQuality(t(e.scope))})})})},e}(),r.$inject=["$element","$parse","$attrs","$scope"],r=__decorate([n.Directive({selector:"playerSetQuality",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object,Object,Object])],r),e("PlayerCurrentTimeComponent",r)}}}),System.register("src/overlay/player-set-speed.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e,t,n,r){this.elm=e,this.attrs=t,this.$parse=n,this.scope=r}return e.prototype.ngOnInit=function(){var e=this,t=this.$parse(this.attrs.playerSetSpeed);this.youtubePlayer.getPlayer().then(function(n){return e.elm.on("click",function(){return e.scope.$apply(function(){var r=t(e.scope);n.setPlaybackRate(r)})})})},e}(),r.$inject=["$element","$attrs","$parse","$scope"],r=__decorate([n.Directive({selector:"playerSetSpeed",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object,Object,Object])],r),e("PlayerSetSpeedDirective",r)}}}),System.register("src/overlay/player-total-time.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e){this.elm=e}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){e.elm.html(t.getHumanReadableDuration())})},e}(),r.$inject=["$element"],r=__decorate([n.Directive({selector:"playerTotalTime",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object])],r),e("PlayerTotalTimeDirective",r)}}}),System.register("src/overlay/player-volume-horizontal.component",["src/ng-helper/facade","angular"],function(e,t){"use strict";{var n,r,i;t&&t.id}return{setters:[function(e){n=e},function(e){r=e}],execute:function(){i=function(){function e(e,t){this.elm=e,this.scope=t}return e.prototype.ngOnInit=function(){var e=this,t=r.element(this.elm[0].querySelector(".hr-yt-volume-hr-bar")),n=r.element(this.elm[0].querySelector(".hr-yt-setted")),i=r.element(this.elm[0].querySelector(".hr-yt-handle"));this.youtubePlayer.getPlayer().then(function(r){var o=function(e){var r=e*t[0].clientWidth-i[0].clientWidth/2;r=Math.min(Math.max(0,r),t[0].clientWidth-i[0].clientWidth/2),n.css("width",100*e+"%"),i.css("left",r+"px")};e.scope.toggleMute=function(){r.toggleMute()},e.scope.onSliderMove=function(e){r.setVolume(100*e),o(e)},e.scope.onSliderUp=function(e){r.setVolume(100*e),o(e)},e.scope.$watch(function(){return r.getVolume()},function(e){return o(e/100)})})},e}(),i.$inject=["$element","$scope"],i=__decorate([n.Component({selector:"playerVolumeHorizontal",templateUrl:"/template/overlay/player-volume-horizontal.component.html",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),transclude:!0,require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object])],i),e("PlayerVolumeHorizontalComponent",i)}}}),System.register("src/overlay/show-if-muted.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e,t,n){this.elm=e,this.$animate=t,this.attrs=n,t.addClass(e,"ng-hide")}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){var n=function(){var n=!t.isMuted();"true"===e.attrs.showIfMuted&&(n=!n),n?e.$animate.removeClass(e.elm,"ng-hide"):e.$animate.addClass(e.elm,"ng-hide")};n(),t.on("muteChange",n)})},e}(),r.$inject=["$element","$animate","$attrs"],r=__decorate([n.Directive({selector:"showIfMuted",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object,Object])],r),e("ShowIfMutedDirective",r)}}}),System.register("src/overlay/show-if-player-is.directive",["src/ng-helper/facade"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r=function(){function e(e,t,n){this.elm=e,this.$animate=t,this.attrs=n,t.addClass(e,"ng-hide")}return e.prototype.ngOnInit=function(){var e=this;this.youtubePlayer.getPlayer().then(function(t){var n=e.attrs.showIfPlayerIs.toUpperCase().split(","),r=n.map(function(e){if(YT.PlayerState.hasOwnProperty(e))return YT.PlayerState[e];throw new Error("Video state "+e+" is not defined")}),i=function(t){-1!==r.indexOf(t.data)?e.$animate.removeClass(e.elm,"ng-hide"):e.$animate.addClass(e.elm,"ng-hide")};t.on("onStateChange",i),i({data:t.getPlayerState()})})},e}(),r.$inject=["$element","$animate","$attrs"],r=__decorate([n.Directive({selector:"showIfPlayerIs",link:n.bindToCtrlCallOnInit(["youtubePlayer"]),require:["^youtubePlayer"]}),__metadata("design:paramtypes",[Object,Object,Object])],r),e("ShowIfPlayerIsDirective",r)}}}),System.register("src/service/youtube-marker-list.model",["angular"],function(e,t){"use strict";{var n;t&&t.id}return{setters:[function(e){n=e}],execute:function(){n.module("hrAngularYoutube").factory("YoutubeMarkerList",function(){var e=function(){this.markersById={},this.player=null};return e.prototype.getMarkers=function(){return this.markersById},e.prototype.add=function(e){return this.markersById[e.id]=e,this.player.emit("markerAdd",e),e},e.prototype.remove=function(e){var t=this.markersById[e];return t&&(delete this.markersById[e],this.player.emit("markerRemove",t)),t},e.prototype.getMarker=function(e){return this.markersById[e]},e.prototype.setPlayer=function(e){this.player=e},e})}}}),System.register("src/util/uuid.service",[],function(e,t){"use strict";function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}t&&t.id;return e("uuid",n),{setters:[],execute:function(){}}}),System.register("src/service/youtube-marker.model",["angular","src/util/uuid.service"],function(e,t){"use strict";{var n,r;t&&t.id}return{setters:[function(e){n=e},function(e){r=e}],execute:function(){n.module("hrAngularYoutube").factory("YoutubeMarker",function(){var e=function(e){this.startTime=e.startTime||null,this.endTime=e.endTime||null,this.duration=e.duration||null,this.handler=e.handler||this.handler||null,this.fireOnce=e.fireOnce||!1,this.launchOnSeek=e.launchOnSeek||!1,this.blockFF=e.blockFF||!1,this.showMarker="undefined"!=typeof e.showMarker?e.showMarker:!0,this.barCss="undefined"!=typeof e.barCss?e.barCss:"",this._runCount=0,this._isRunning=!1,this.player=null,this.id=this.id||e.id||r.uuid(),null!==this.duration&&(this.endTime=this.startTime+this.duration)};return e.prototype.setPlayer=function(e){this.player=e},e.prototype.getPlayer=function(){return this.player},e.prototype.shouldLaunchOnSeek=function(e){return this.getLaunchOnSeek()?this.hasEndTime()?this.inRange(e.newTime):this.startTime>=e.oldTime&&this.startTime<=e.newTime:void 0},e.prototype.getLaunchOnSeek=function(){return this.getBlockOnFF()?!0:this.launchOnSeek},e.prototype.getBlockOnFF=function(){return this._runCount>0&&this.fireOnce?!1:this.blockFF},e.prototype.hasEndTime=function(){return null!==this.endTime},e.prototype.inRange=function(e){return this.hasEndTime()?e>=this.startTime&&e<this.endTime:!1},e.prototype.startedIn=function(e,t){return this.startTime>e&&this.startTime<=t},e.prototype.endedIn=function(e,t){return this.hasEndTime()?this.endTime>e&&this.endTime<=t:!1},e.prototype.start=function(){return this._isRunning?!1:this._runCount>0&&this.fireOnce?!1:(this._runCount++,this._isRunning=!0,"function"==typeof this.handler&&this.handler(),!0)},e.prototype.end=function(){this.isRunning()&&(this._isRunning=!1,"function"==typeof this.onEnd&&this.onEnd())},e.prototype.isRunning=function(){return this._isRunning},e})}}}),System.register("src/service/youtube-player.model",["angular","src/service/youtube-quality-map.service","src/service/youtube-readable-time.service","src/util/uuid.service"],function(e,t){"use strict";
{var n,r,i,o;t&&t.id}return{setters:[function(e){n=e},function(e){r=e},function(e){i=e},function(e){o=e}],execute:function(){n.module("hrAngularYoutube").factory("YoutubePlayer",["$q","$interval","$rootScope","YoutubeMarkerList","hrAngularExtend",function(e,t,a,u,s){var l=function(e,t){this.options=t;var r=n.copy(t);r.width="100%",r.height="100%";var i=this;this.player=new YT.Player(e,r),this.markerList=new u,this._muted=!1,this._volume=100,this._intendedQuality="auto",this.on("onStateChange",function(e){e.data===YT.PlayerState.PLAYING&&(i.setVolume(i.player.getVolume()),i._setMuted(i.player.isMuted()))}),this.on("markerAdd",function(e){i._initializeMarkerListener(),e.setPlayer(i)}),this.on("markerRemove",function(e){e.end()})};return s.factory(l),n.forEach(["getOptions","loadModule","loadVideoById","loadVideoByUrl","cueVideoById","cueVideoByUrl","cuePlaylist","loadPlaylist","playVideo","pauseVideo","stopVideo","seekTo","clearVideo","nextVideo","previousVideo","playVideoAt","setSize","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","setLoop","setShuffle","getVideoLoadedFraction","getPlayerState","getCurrentTime","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getDuration","getVideoUrl","getVideoEmbedCode","getPlaylist","getPlaylistIndex","getIframe","destroy"],function(e){l.prototype[e]=function(){return this.player[e].apply(this.player,arguments)}}),l.prototype.setOverlayElement=function(e){this._element=e},l.prototype.getOverlayElement=function(){return this._element},l.prototype.getHumanReadableDuration=function(){return i.youtubeReadableTime(this.getDuration())},l.prototype.getHumanReadableCurrentTime=function(){return i.youtubeReadableTime(this.getCurrentTime())},l.prototype.onProgress=function(e,n){"undefined"==typeof n&&(n=100);var r=null,i=function(){null===r&&(r=t(e,n))},o=function(){t.cancel(r),r=null},a=function(){o()};return this.on("onStateChange",function(e){e.data===YT.PlayerState.PLAYING?i():o()}),this.getPlayerState()===YT.PlayerState.PLAYING&&i(),a},l.prototype.eventSeekTo=function(r,i){var o=this,a=this.player.getCurrentTime();n.forEach(o.markerList.getMarkers(),function(e){e.getBlockOnFF()&&e.startedIn(a,r)&&(r=e.startTime)}),this.player.seekTo(r,i),o.emit("seekToBegin",{newTime:r,oldTime:a});var u=e.defer(),s=t(function(){var e=o.player.getCurrentTime(),n=!1;if(a>r?a>e&&(n=!0):e>=r&&(n=!0),n){t.cancel(s);var i={newTime:r,oldTime:a};o.emit("seekToCompleted",i),u.resolve(i)}},50);return u.promise},l.prototype.startLoading=function(e){var t,n=this,r=function(r){r.data===YT.PlayerState.PLAYING&&("number"==typeof e&&n.eventSeekTo(e,!0),t(),n.player.pauseVideo())};t=this.on("onStateChange",r),this.player.playVideo()},l.prototype._initializeEventListener=function(){if(!this._eventsInitialized){var e=this;this._eventHash=o.uuid();var t=["onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange","onReady"];n.forEach(t,function(t){e.player.addEventListener(t,function(n){e.emit(t,n)})}),this._eventsInitialized=!0}},l.prototype.on=function(e,t){return this._initializeEventListener(),a.$on(this._eventHash+e,function(e,n){t(n)})},l.prototype.emit=function(e,t){a.$emit(this._eventHash+e,t)},l.prototype._initializeMarkerListener=function(){if(!this._markerListener){this._markerListener=!0;var e=function(e){e.start()&&r.emit("markerRun",e)},t=function(e){e.end(),r.emit("markerStop",e)},r=this,i=-1;this.onProgress(function(){var o=r.getCurrentTime(),a=i;n.forEach(r.markerList.getMarkers(),function(n){n.startedIn(i,o)&&(e(n),a=Math.max(a,n.startTime)),n.endedIn(i,o)&&n.isRunning()&&(t(n),a=Math.max(a,n.endTime))}),i=a}),this.on("seekToCompleted",function(o){n.forEach(r.markerList.getMarkers(),function(n){n.isRunning()?n.inRange(o.newTime)||t(n):n.shouldLaunchOnSeek(o)&&e(n)}),i=o.newTime})}},l.prototype.setMarkerList=function(e){this._initializeMarkerListener(),this.markerList=e,this.markerList.setPlayer(this),this.emit("markerListChanged")},l.prototype.addMarker=function(e){return this.markerList.add(e)},l.prototype.removeMarker=function(e){return this.markerList.removeById(e)},l.prototype.getMarkers=function(){return this.markerList.getMarkers()},l.prototype.getMarker=function(e){return this.markerList.getMarker(e)},l.prototype.setVolume=function(e){this._setMuted(0===e),this._volume=e,this.player.setVolume(e)},l.prototype.getVolume=function(){return this._muted?0:this._volume},l.prototype._setMuted=function(e){var t=this._muted!==e;this._muted=e,t&&this.emit("muteChange")},l.prototype.mute=function(){this._setMuted(!0),this.player.mute()},l.prototype.unMute=function(){this._setMuted(!1),this.player.unMute()},l.prototype.isMuted=function(){return this._muted},l.prototype.toggleMute=function(){this.isMuted()?this.unMute():this.mute()},l.prototype.getHumanPlaybackQuality=function(){return r.convertToYoutube(this.player.getPlaybackQuality())},l.prototype.getHumanIntendedPlaybackQuality=function(e){var t=r.convertToYoutube(this._intendedQuality);return"Auto"===t&&e&&"Auto"!==this.getHumanPlaybackQuality()&&(t+=" ("+this.getHumanPlaybackQuality()+")"),t},l.prototype.setHumanPlaybackQuality=function(e){var t=r.convertFromYoutube(e);this.setPlaybackQuality(t),this.emit("onIntentPlaybackQualityChange")},l.prototype.setPlaybackQuality=function(e){this._intendedQuality=e,this.player.setPlaybackQuality(e)},l}])}}}),System.register("src/service/youtube-template-marker.model",["angular"],function(e,t){"use strict";{var n;t&&t.id}return{setters:[function(e){n=e}],execute:function(){n.module("hrAngularYoutube").factory("YoutubeTemplateMarker",["$rootScope","$compile","YoutubeMarker","$q","$http","$templateCache",function(e,t,r,i,o,a){var u=function(t){r.call(this,t),this._elm=null,this._scope=null,this._parentScope=t.scope||e,this._parentElm=t.parent,this._addMethod=t.addMethod||"append",this.template=t.template||null,this.link=t.link||this.link||null,this._loadTemplate(t)};return n.extend(u.prototype,r.prototype),u.prototype.setParent=function(e){this._parentElm=e},u.prototype.getParent=function(){return this._parentElm},u.prototype.setParentScope=function(e){this._parentScope=e},u.prototype.getParentScope=function(){return this._parentScope},u.prototype.handler=function(){var e=this;this._parentElm||(this._parentElm=this.player.getOverlayElement()),this._scope=this._parentScope.$new(!0),this.template.then(function(r){var i=n.element(r);e._parentElm[e._addMethod](i),e._elm=t(i)(e._scope),"function"==typeof e.link&&e.link(e._scope)})},u.prototype._loadTemplate=function(e){e.hasOwnProperty("template")?this.template=i.when(e.template):e.hasOwnProperty("templateUrl")&&(this.template=o.get(e.templateUrl,{cache:a}).then(function(e){return e.data}))},u.prototype.onEnd=function(){this.destroy()},u.prototype.destroy=function(){null!==this._elm&&(this._scope.$destroy(),this._elm.remove(),this._scope=null,this._elm=null)},u}])}}}),System.register("src/service/youtube.service",["angular"],function(e,t){"use strict";{var n,r,i,o;t&&t.id}return{setters:[function(e){n=e}],execute:function(){r={playerVars:{origin:location.origin+"/",enablejsapi:1}},i=!0,o=function(){function e(){this.$get=["$window","$q","$injector",function(e,t,o){var a=t.defer(),u=a.promise;return e.onYouTubeIframeAPIReady=function(){a.resolve()},{loadPlayer:function(e,i,a){return u.then(function(){var u=o.get(e),s=t.defer(),l={};n.extend(l,n.copy(r),a),l.playerVars={},n.extend(l.playerVars,n.copy(r.playerVars),a.playerVars);var c=new u(i,l);return c.on("onReady",function(){s.resolve(c)}),s.promise})},getAutoLoad:function(){return i}}}]}return e.prototype.setAutoLoad=function(e){i=e},e.prototype.setOptions=function(e){r=e},e.prototype.getOptions=function(){return r},e.prototype.setOption=function(e,t){r[e]=t},e.prototype.setPlayerVarOption=function(e,t){r.playerVars[e]=t},e}(),e("Provider",o),n.module("hrAngularYoutube").provider("youtube",new o)}}}),System.register("src/main",["src/directive/youtube-player.component","src/directive/yt-slider.directive","src/overlay/hr-yt-marker.directive","src/overlay/player-current-quality.directive","src/overlay/player-current-speed.directive","src/overlay/player-current-time.directive","src/overlay/player-panel.component","src/overlay/player-pause.component","src/overlay/player-play.component","src/overlay/player-progress-bar-hover-indicator.component","src/overlay/player-progress-bar.component","src/overlay/player-repeat-available-quality.directive","src/overlay/player-repeat-available-speed.directive","src/overlay/player-set-quality.directive","src/overlay/player-set-speed.directive","src/overlay/player-total-time.directive","src/overlay/player-volume-horizontal.component","src/overlay/show-if-muted.directive","src/overlay/show-if-player-is.directive","src/service/youtube-marker-list.model","src/service/youtube-marker.model","src/service/youtube-player.model","src/service/youtube-quality-map.service","src/service/youtube-readable-time.service","src/service/youtube-template-marker.model","src/service/youtube.service","angular"],function(e,t){"use strict";{var n;t&&t.id}return{setters:[function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(e){n=e}],execute:function(){"undefined"==typeof window.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=function(){setTimeout(function(){window.onYouTubeIframeAPIReady()},100)}),n.module("hrAngularYoutube").run(["youtube",function(e){if(e.getAutoLoad()){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}])}}});